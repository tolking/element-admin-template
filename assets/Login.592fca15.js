import{G as w,au as F,r as B,al as r,w as x,a3 as s,H as v,I as k,Y as i,R as y,u as t,i as C,J as S}from"./modules-vue.91ae1080.js";import{B as V,C as A,D as E}from"./modules-vueuse.24e291c9.js";import{S as q,T as D}from"./modules-element-icon.aca8e069.js";import{d as R,a as I,b as T}from"./modules-element-pro.7eec25da.js";import{u as z,A as G}from"./crud.380b19b2.js";import{u as L}from"./index.0b211478.js";import"./modules-quill.209abeee.js";import"./modules-element-plus.78cefd0c.js";const M={class:"login"},N=S("h1",{class:"title"}," \u7BA1\u7406\u540E\u53F0 ",-1),W=w({__name:"Login",setup(j){const l=F(),m=L(),{enter:c}=V(),{form:n,submitForm:p}=z({url:G.login}),u=B({}),d=R([{label:"\u7528\u6237",prop:"name",component:"el-input",rules:{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"},props:{clearable:!0,prefixIcon:r(q),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}},{label:"\u5BC6\u7801",prop:"password",component:"el-input",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:5,max:16,message:"\u957F\u5EA6 5 \u5230 16 \u4E2A\u5B57\u7B26",trigger:"blur"}],props:{type:"password",clearable:!0,showPassword:!0,prefixIcon:r(D),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"}}]),g=I({submitText:"\u767B\u5F55",reset:!1}),f=T(async(o,e)=>{await a(e),o()});A(),E("\u767B\u9646\u540E\u53F0"),x(c,async o=>{if(o){const e=await u.value.validate();await a(e)}});async function a(o){if(o){const e=await p();e.value&&(m.value=e.value,l.push("/"))}}return(o,e)=>{const _=s("pro-form"),b=s("el-card");return v(),k("div",M,[i(b,{class:"login-content"},{default:y(()=>[N,i(_,{ref_key:"login",ref:u,modelValue:t(n),"onUpdate:modelValue":e[0]||(e[0]=h=>C(n)?n.value=h:null),columns:t(d),menu:t(g),"label-position":"top",onSubmit:t(f)},null,8,["modelValue","columns","menu","onSubmit"])]),_:1})])}}});export{W as default};
