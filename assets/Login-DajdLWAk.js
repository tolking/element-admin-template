import{u as y}from"./index-Crc8LH7_.js";import{w as S,I as i,F as V,B,C}from"./modules-element-pro-FTTMLDtU.js";/* empty css               *//* empty css                  *//* empty css                    *//* empty css             */import{D as F,r as R,ak as a,w as q,F as A,G as E,O as u,R as G,u as t,i as D,at as H,au as L,az as N,aA as T,Y as m}from"./modules-vue-By89M0U-.js";import{l as z,m as K,n as M}from"./modules-vueuse-Btdjl5qo.js";import{u as O}from"./form-CzUEu54E.js";import{A as P}from"./api-P98th4it.js";import{G as U,H as Y}from"./modules-element-icon-BNWqDq4y.js";import{H as c,ad as j}from"./modules-element-plus-DH2R2jN-.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./modules-quill-Ccay-MFU.js";const p=s=>(N("data-v-64c5233e"),s=s(),T(),s),Q={class:"login"},W=p(()=>m("div",{class:"login-bg"},null,-1)),X=p(()=>m("h1",{class:"title"}," 管理后台 ",-1)),Z=F({__name:"Login",setup(s){const d=H(),f=L(),_=y(),{enter:g}=z(),{form:r,submitForm:b}=O({url:P.login}),n=R({}),w=S([{label:"用户",prop:"name",component:a(c),rules:{required:!0,message:"请输入用户名",trigger:"blur"},props:i({clearable:!0,prefixIcon:a(U),placeholder:"请输入用户名"})},{label:"密码",prop:"password",component:a(c),rules:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:16,message:"长度 5 到 16 个字符",trigger:"blur"}],props:i({type:"password",clearable:!0,showPassword:!0,prefixIcon:a(Y),placeholder:"请输入密码"})}]),h=V({submitText:"登录",reset:!1}),v=B(async(o,e)=>{await l(e),o()});K(),M("登陆后台"),q(g,async o=>{if(o){const e=await n.value.validate();await l(e)}});async function l(o){if(o){const e=await b();e.value&&(_.value=e.value,f.push(d.query.redirect||"/"))}}return(o,e)=>{const I=C,x=j;return A(),E("div",Q,[W,u(x,{class:"login-content"},{default:G(()=>[X,u(I,{ref_key:"login",ref:n,modelValue:t(r),"onUpdate:modelValue":e[0]||(e[0]=k=>D(r)?r.value=k:null),columns:t(w),menu:t(h),"label-position":"top",onSubmit:t(v)},null,8,["modelValue","columns","menu","onSubmit"])]),_:1})])}}}),de=J(Z,[["__scopeId","data-v-64c5233e"]]);export{de as default};
