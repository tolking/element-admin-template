import{Q as d}from"./modules-quill.ccd65b61.js";import{H as p,b as _,a as t,w as f,f as m,E as v,I as h,J as b}from"./modules-vue.e6816ec1.js";const y=p({__name:"RichEditor",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"\u8BF7\u8F93\u5165\u6587\u672C"}},emits:["update:modelValue"],setup(r,{emit:s}){const n=r,{modelValue:l,placeholder:i}=_(n),u=t({}),e=t({}),a=t(!1);f(l,o=>{o!==e.value.root.innerHTML&&!e.value.hasFocus()&&(e.value.root.innerHTML=o)}),m(()=>{c()}),v(()=>{e.value=null});function c(){e.value=new d(u.value,{theme:"snow",placeholder:i.value,modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{color:[]},{background:[]}],["clean"]]}}),!a.value&&(l==null?void 0:l.value)&&(e.value.root.innerHTML=n.modelValue||""),e.value.on("text-change",()=>{a.value=!0,s("update:modelValue",e.value.root.innerHTML)})}return(o,g)=>(h(),b("div",{ref_key:"editor",ref:u},null,512))}});export{y as _};
