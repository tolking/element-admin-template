import{c as S,e as A}from"./modules-element-pro.118ea3fd.js";import{a as B,u as j,A as c}from"./crud.54b8cffe.js";import{c as m}from"./index.bfccfb3f.js";import{G as M,a3 as u,aj as N,S as R,u as t,H as U,Q as V,R as a,Y as n,W as d,X as _,i as g}from"./modules-vue.f2588fa8.js";import"./modules-quill.ccd65b61.js";import"./modules-vueuse.3cc95a08.js";import"./modules-element-icon.1f999bf9.js";import"./modules-element-plus.83f1f6c1.js";const K=M({__name:"Table",setup(G){const{isFetching:b,page:l,limit:r,total:f,list:v,loadList:F}=B({url:c.user}),{isFetching:C,form:p,submitForm:x}=j({url:c.userStatus,type:"put"}),y=S({label:"\u64CD\u4F5C"}),D=A([{label:"ID",prop:"id"},{label:"\u7528\u6237\u540D",prop:"name"},{label:"\u5934\u50CF",prop:"avatar"},{label:"\u6743\u9650",prop:"role"},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"},{label:"\u662F\u5426\u542F\u7528",prop:"status"}]);async function h(s){p.value={id:s.id,status:!s.status},(await x()).value?(m("success","\u4FEE\u6539\u6210\u529F!"),s.status=!s.status):m("warning","\u4FEE\u6539\u5931\u8D25!"),p.value={}}return(s,o)=>{const z=u("el-image"),w=u("el-tag"),E=u("el-button"),L=u("pro-table"),T=u("pro-card"),k=N("loading");return R((U(),V(T,{shadow:"never"},{default:a(()=>[n(L,{"current-page":t(l),"onUpdate:current-page":o[0]||(o[0]=e=>g(l)?l.value=e:null),"page-size":t(r),"onUpdate:page-size":o[1]||(o[1]=e=>g(r)?r.value=e:null),columns:t(D),data:t(v),total:t(f),menu:t(y),border:"",stripe:"",layout:"total, ->, jumper, prev, pager, next, sizes",onLoad:t(F)},{"table-avatar":a(({row:e})=>[n(z,{style:{width:"60px",height:"60px"},src:e.avatar,fit:"scale-down"},null,8,["src"])]),"table-status":a(({row:e,size:i})=>[n(w,{type:e.status?"success":"danger",size:i},{default:a(()=>[d(_(e.status?"\u542F\u7528":"\u7981\u7528"),1)]),_:2},1032,["type","size"])]),menu:a(({row:e,size:i})=>[n(E,{loading:t(C),size:i,text:"",onClick:H=>h(e)},{default:a(()=>[d(_(e.status?"\u7981\u7528":"\u542F\u7528"),1)]),_:2},1032,["loading","size","onClick"])]),_:1},8,["current-page","page-size","columns","data","total","menu","onLoad"])]),_:1})),[[k,t(b)]])}}});export{K as default};
