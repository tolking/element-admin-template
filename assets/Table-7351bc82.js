import"./index-b885c862.js";/* empty css                   */import{b as j,a as B,j as D,O as E}from"./modules-element-pro-1e9157de.js";/* empty css               *//* empty css             *//* empty css              */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css               */import{a as O,u as V,A as u,b as m}from"./api-faebc3b3.js";/* empty css                  *//* empty css                  *//* empty css                        */import{a9 as A,z as I,L as N,ad as R}from"./modules-element-plus-e2fc2490.js";import{F as U,$,u as a,H,S as M,R as e,O as r,V as c,W as d,i as _}from"./modules-vue-39e66fd2.js";import"./modules-vueuse-38da200c.js";import"./modules-element-icon-c82074b4.js";import"./modules-quill-ecfe6c98.js";const ut=U({__name:"Table",setup(P){const{isFetching:g,page:n,limit:i,total:b,list:f,loadList:v}=O({url:u.user}),{isFetching:x,form:p,submitForm:y}=V({url:u.userStatus,type:"put"}),z=D({label:"操作"}),L=E([{label:"ID",prop:"id"},{label:"用户名",prop:"name"},{label:"头像",prop:"avatar"},{label:"权限",prop:"role"},{label:"创建时间",prop:"createTime"},{label:"是否启用",prop:"status"}]);async function h(s){p.value={id:s.id,status:!s.status},(await y()).value?(m("success","修改成功!"),s.status=!s.status):m("warning","修改失败!"),p.value={}}return(s,o)=>{const w=A,F=I,S=N,k=j,C=B,T=R;return $((H(),M(C,{shadow:"never"},{default:e(()=>[r(k,{"current-page":a(n),"onUpdate:currentPage":o[0]||(o[0]=t=>_(n)?n.value=t:null),"page-size":a(i),"onUpdate:pageSize":o[1]||(o[1]=t=>_(i)?i.value=t:null),columns:a(L),data:a(f),total:a(b),menu:a(z),border:"",stripe:"",layout:"total, ->, jumper, prev, pager, next, sizes",onLoad:a(v)},{"table-avatar":e(({row:t})=>[r(w,{style:{width:"60px",height:"60px"},src:t.avatar,fit:"scale-down"},null,8,["src"])]),"table-status":e(({row:t,size:l})=>[r(F,{type:t.status?"success":"danger",size:l},{default:e(()=>[c(d(t.status?"启用":"禁用"),1)]),_:2},1032,["type","size"])]),menu:e(({row:t,size:l})=>[r(S,{loading:a(x),size:l,text:"",onClick:W=>h(t)},{default:e(()=>[c(d(t.status?"禁用":"启用"),1)]),_:2},1032,["loading","size","onClick"])]),_:1},8,["current-page","page-size","columns","data","total","menu","onLoad"])]),_:1})),[[T,a(g)]])}}});export{ut as default};
