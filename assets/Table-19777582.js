/* empty css             *//* empty css                   */import{a as j,r as B,j as E,D as S}from"./modules-element-pro-b81ea309.js";/* empty css               *//* empty css             *//* empty css              *//* empty css               */import"./el-tooltip-4ed993c7.js";/* empty css                  */import{a as U,u as V,A as u,b as m}from"./api-3f191218.js";/* empty css                  *//* empty css                  *//* empty css                        */import{ab as A,L as I,s as N,af as q}from"./modules-element-plus-92389d6d.js";import{G,O as H,u as a,H as M,U as O,V as e,X as r,a7 as c,Z as d,i as _}from"./modules-vue-596fe172.js";import"./modules-vueuse-9b2c2f8a.js";import"./modules-element-icon-c5b6ad9f.js";import"./store-094d7e77.js";import"./index-b2df5dea.js";import"./modules-quill-94ea01f0.js";const ct=G({__name:"Table",setup(R){const{isFetching:g,page:n,limit:p,total:f,list:b,loadList:v}=U({url:u.user}),{isFetching:x,form:l,submitForm:y}=V({url:u.userStatus,type:"put"}),L=E({label:"操作"}),h=S([{label:"ID",prop:"id"},{label:"用户名",prop:"name"},{label:"头像",prop:"avatar"},{label:"权限",prop:"role"},{label:"创建时间",prop:"createTime"},{label:"是否启用",prop:"status"}]);async function z(s){l.value={id:s.id,status:!s.status},(await y()).value?(m("success","修改成功!"),s.status=!s.status):m("warning","修改失败!"),l.value={}}return(s,o)=>{const w=A,D=I,k=N,C=j,F=B,T=q;return H((M(),O(F,{shadow:"never"},{default:e(()=>[r(C,{"current-page":a(n),"onUpdate:current-page":o[0]||(o[0]=t=>_(n)?n.value=t:null),"page-size":a(p),"onUpdate:page-size":o[1]||(o[1]=t=>_(p)?p.value=t:null),columns:a(h),data:a(b),total:a(f),menu:a(L),border:"",stripe:"",layout:"total, ->, jumper, prev, pager, next, sizes",onLoad:a(v)},{"table-avatar":e(({row:t})=>[r(w,{style:{width:"60px",height:"60px"},src:t.avatar,fit:"scale-down"},null,8,["src"])]),"table-status":e(({row:t,size:i})=>[r(D,{type:t.status?"success":"danger",size:i},{default:e(()=>[c(d(t.status?"启用":"禁用"),1)]),_:2},1032,["type","size"])]),menu:e(({row:t,size:i})=>[r(k,{loading:a(x),size:i,text:"",onClick:X=>z(t)},{default:e(()=>[c(d(t.status?"禁用":"启用"),1)]),_:2},1032,["loading","size","onClick"])]),_:1},8,["current-page","page-size","columns","data","total","menu","onLoad"])]),_:1})),[[T,a(g)]])}}});export{ct as default};
