import"./modules-element-pro-FTTMLDtU.js";import{e as g,f as _,r as b,a as v}from"./api-P98th4it.js";import{n as d}from"./modules-element-plus-DH2R2jN-.js";import{r as c,u as t,c as I}from"./modules-vue-By89M0U-.js";function A({url:i,transform:l,showTip:p=!0,type:F="post",afterSubmit:f}){const s=c(t(F)),u=c({}),a=c({}),y=I(()=>b(t(i),a.value.id)),o=g(i,a),n=_(y,a),w=async(e,P)=>{if(P){const r=await m();r.value?t(p)&&v("success","提交成功！"):r.value!==null&&t(p)&&v("warning","提交失败！"),d(f)&&f(r.value)}e()};async function m(e){return e&&(s.value=e),x(),s.value==="post"?(await o.execute(),o.data):(await n.execute(),n.data)}function x(){a.value=d(l)?l(t(u)):u.value}return{...s.value==="put"?n:o,form:u,submit:w,submitForm:m}}export{A as u};
