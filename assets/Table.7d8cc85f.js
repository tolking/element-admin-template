import{c as p}from"./index.8ae3cbac.js";/* empty css                   */import{i as w,g as B,j as A,k as M}from"./modules-element-pro.93e4a1ff.js";/* empty css               *//* empty css             *//* empty css              *//* empty css               */import"./el-tooltip.586473e3.js";/* empty css                  *//* empty css                  *//* empty css                        */import{a as S,u as U,A as m}from"./crud.b82008f5.js";import{$ as j,H as I,K as N,a3 as P}from"./modules-element-plus.41ec575c.js";import{E as V,M as $,u as a,F as H,T as K,U as e,W as u,i as c,a5 as d,Y as g}from"./modules-vue.2559fb4f.js";import"./modules-quill.209abeee.js";import"./modules-vueuse.98f91a9c.js";import"./modules-element-icon.ce895049.js";const it=V({name:"Table",setup(R){const{isFetching:_,page:n,limit:r,total:f,list:F,loadList:b}=S({url:m.user}),{isFetching:v,form:i,submitForm:C}=U({url:m.userStatus,type:"put"}),E=A({label:"\u64CD\u4F5C"}),x=M([{label:"ID",prop:"id"},{label:"\u7528\u6237\u540D",prop:"name"},{label:"\u5934\u50CF",prop:"avatar"},{label:"\u6743\u9650",prop:"role"},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"},{label:"\u662F\u5426\u542F\u7528",prop:"status"}]);async function T(s){i.value={id:s.id,status:!s.status},(await C()).value?(p("success","\u4FEE\u6539\u6210\u529F!"),s.status=!s.status):p("warning","\u4FEE\u6539\u5931\u8D25!"),i.value={}}return(s,o)=>{const y=j,h=I,z=N,D=w,L=B,k=P;return $((H(),K(L,{shadow:"never"},{default:e(()=>[u(D,{"current-page":a(n),"onUpdate:current-page":o[0]||(o[0]=t=>c(n)?n.value=t:null),"page-size":a(r),"onUpdate:page-size":o[1]||(o[1]=t=>c(r)?r.value=t:null),columns:a(x),data:a(F),total:a(f),menu:a(E),border:"",stripe:"",layout:"total, ->, jumper, prev, pager, next, sizes",onLoad:a(b)},{avatar:e(({row:t})=>[u(y,{style:{width:"60px",height:"60px"},src:t.avatar,fit:"scale-down"},null,8,["src"])]),status:e(({row:t,size:l})=>[u(h,{type:t.status?"success":"danger",size:l},{default:e(()=>[d(g(t.status?"\u542F\u7528":"\u7981\u7528"),1)]),_:2},1032,["type","size"])]),menu:e(({row:t,size:l})=>[u(z,{loading:a(v),size:l,text:"",onClick:W=>T(t)},{default:e(()=>[d(g(t.status?"\u7981\u7528":"\u542F\u7528"),1)]),_:2},1032,["loading","size","onClick"])]),_:1},8,["current-page","page-size","columns","data","total","menu","onLoad"])]),_:1})),[[k,a(_)]])}}});export{it as default};
