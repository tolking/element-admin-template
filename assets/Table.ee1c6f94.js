import{c as S,e as A}from"./modules-element-pro.105f54b4.js";import{a as B,u as M,A as c}from"./crud.9736ce63.js";import{c as m}from"./index.2431aae5.js";import{G as N,a3 as u,ai as R,S as U,u as t,H as V,Q as j,R as a,Y as n,W as d,X as _,i as g}from"./modules-vue.91ae1080.js";import"./modules-quill.209abeee.js";import"./modules-vueuse.24e291c9.js";import"./modules-element-icon.a802c69b.js";import"./modules-element-plus.8b98b144.js";const K=N({__name:"Table",setup(G){const{isFetching:f,page:l,limit:r,total:b,list:v,loadList:F}=B({url:c.user}),{isFetching:C,form:p,submitForm:x}=M({url:c.userStatus,type:"put"}),y=S({label:"\u64CD\u4F5C"}),D=A([{label:"ID",prop:"id"},{label:"\u7528\u6237\u540D",prop:"name"},{label:"\u5934\u50CF",prop:"avatar"},{label:"\u6743\u9650",prop:"role"},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"},{label:"\u662F\u5426\u542F\u7528",prop:"status"}]);async function h(s){p.value={id:s.id,status:!s.status},(await x()).value?(m("success","\u4FEE\u6539\u6210\u529F!"),s.status=!s.status):m("warning","\u4FEE\u6539\u5931\u8D25!"),p.value={}}return(s,o)=>{const z=u("el-image"),w=u("el-tag"),E=u("el-button"),L=u("pro-table"),T=u("pro-card"),k=R("loading");return U((V(),j(T,{shadow:"never"},{default:a(()=>[n(L,{"current-page":t(l),"onUpdate:current-page":o[0]||(o[0]=e=>g(l)?l.value=e:null),"page-size":t(r),"onUpdate:page-size":o[1]||(o[1]=e=>g(r)?r.value=e:null),columns:t(D),data:t(v),total:t(b),menu:t(y),border:"",stripe:"",layout:"total, ->, jumper, prev, pager, next, sizes",onLoad:t(F)},{avatar:a(({row:e})=>[n(z,{style:{width:"60px",height:"60px"},src:e.avatar,fit:"scale-down"},null,8,["src"])]),status:a(({row:e,size:i})=>[n(w,{type:e.status?"success":"danger",size:i},{default:a(()=>[d(_(e.status?"\u542F\u7528":"\u7981\u7528"),1)]),_:2},1032,["type","size"])]),menu:a(({row:e,size:i})=>[n(E,{loading:t(C),size:i,text:"",onClick:H=>h(e)},{default:a(()=>[d(_(e.status?"\u7981\u7528":"\u542F\u7528"),1)]),_:2},1032,["loading","size","onClick"])]),_:1},8,["current-page","page-size","columns","data","total","menu","onLoad"])]),_:1})),[[k,t(f)]])}}});export{K as default};
