import{u as v}from"./index-3e6b6df6.js";import{$ as y,q as l,A as x,D as k,P as A}from"./modules-element-pro-71a81d3a.js";/* empty css               *//* empty css                  *//* empty css                    *//* empty css             */import{F as V,au as q,r as C,ak as s,w as I,H as R,I as S,O as u,R as B,u as o,i as D,Y as E}from"./modules-vue-1e7a0b2d.js";import{y as F,z as P,A as G}from"./modules-vueuse-b11b28df.js";import{u as H}from"./form-db243072.js";import{A as L}from"./api-57caebfc.js";import{G as N,H as T}from"./modules-element-icon-4f85e918.js";import{A as i,a8 as $}from"./modules-element-plus-faf0934f.js";import"./modules-quill-ecfe6c98.js";const z={class:"login"},K=E("h1",{class:"title"}," 管理后台 ",-1),te=V({__name:"Login",setup(M){const m=q(),c=v(),{enter:p}=F(),{form:t,submitForm:d}=H({url:L.login}),r=C({}),f=y([{label:"用户",prop:"name",component:s(i),rules:{required:!0,message:"请输入用户名",trigger:"blur"},props:l({clearable:!0,prefixIcon:s(N),placeholder:"请输入用户名"})},{label:"密码",prop:"password",component:s(i),rules:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:16,message:"长度 5 到 16 个字符",trigger:"blur"}],props:l({type:"password",clearable:!0,showPassword:!0,prefixIcon:s(T),placeholder:"请输入密码"})}]),_=x({submitText:"登录",reset:!1}),g=k(async(a,e)=>{await n(e),a()});P(),G("登陆后台"),I(p,async a=>{if(a){const e=await r.value.validate();await n(e)}});async function n(a){if(a){const e=await d();e.value&&(c.value=e.value,m.push("/"))}}return(a,e)=>{const b=A,w=$;return R(),S("div",z,[u(w,{class:"login-content"},{default:B(()=>[K,u(b,{ref_key:"login",ref:r,modelValue:o(t),"onUpdate:modelValue":e[0]||(e[0]=h=>D(t)?t.value=h:null),columns:o(f),menu:o(_),"label-position":"top",onSubmit:o(g)},null,8,["modelValue","columns","menu","onSubmit"])]),_:1})])}}});export{te as default};
