import{c as p}from"./index.435bde2b.js";/* empty css                   */import{i as A,g as M,j as S,k as U}from"./modules-element-pro.8e9eb19b.js";/* empty css               *//* empty css             *//* empty css              *//* empty css               */import"./el-tooltip.586473e3.js";/* empty css                  *//* empty css                  *//* empty css                        */import{a as j,u as I,A as m}from"./crud.987b75a0.js";import{$ as N,H as P,K as V,a3 as $}from"./modules-element-plus.0eaf17bd.js";import{E as H,F as c,T as d,U as e,M as K,u as a,i as g,W as i,a3 as _,Y as f}from"./modules-vue.24cc355b.js";import"./modules-quill.209abeee.js";import"./modules-vueuse.4f9c14df.js";import"./modules-element-icon.56c25f8e.js";const lt=H({setup(R){const{isFetching:F,page:u,limit:n,total:b,list:v,loadList:C}=j({url:m.user}),{isFetching:E,form:l,submitForm:x}=I({url:m.userStatus,type:"put"}),y=S({label:"\u64CD\u4F5C"}),T=U([{label:"ID",prop:"id"},{label:"\u7528\u6237\u540D",prop:"name"},{label:"\u5934\u50CF",prop:"avatar"},{label:"\u6743\u9650",prop:"role"},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"},{label:"\u662F\u5426\u542F\u7528",prop:"status"}]);async function h(s){l.value={id:s.id,status:!s.status},(await x()).value?(p("success","\u4FEE\u6539\u6210\u529F!"),s.status=!s.status):p("warning","\u4FEE\u6539\u5931\u8D25!"),l.value={}}return(s,o)=>{const z=N,D=P,L=V,k=A,w=M,B=$;return c(),d(w,{shadow:"never"},{default:e(()=>[K((c(),d(k,{"current-page":a(u),"onUpdate:current-page":o[0]||(o[0]=t=>g(u)?u.value=t:null),"page-size":a(n),"onUpdate:page-size":o[1]||(o[1]=t=>g(n)?n.value=t:null),columns:a(T),data:a(v),total:a(b),menu:a(y),border:"",stripe:"",layout:"total, ->, jumper, prev, pager, next, sizes",onLoad:a(C)},{avatar:e(({row:t})=>[i(z,{style:{width:"60px",height:"60px"},src:t.avatar,fit:"scale-down"},null,8,["src"])]),status:e(({row:t,size:r})=>[i(D,{type:t.status?"success":"danger",size:r},{default:e(()=>[_(f(t.status?"\u542F\u7528":"\u7981\u7528"),1)]),_:2},1032,["type","size"])]),menu:e(({row:t,size:r})=>[i(L,{loading:a(E),size:r,text:"",onClick:W=>h(t)},{default:e(()=>[_(f(t.status?"\u7981\u7528":"\u542F\u7528"),1)]),_:2},1032,["loading","size","onClick"])]),_:1},8,["current-page","page-size","columns","data","total","menu","onLoad"])),[[B,a(F)]])]),_:1})}}});export{lt as default};
