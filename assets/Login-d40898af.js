import{u as k}from"./index-e1d4d1fa.js";import{$ as A,q as i,A as S,D as V,P as q}from"./modules-element-pro-71a81d3a.js";/* empty css               *//* empty css                  *//* empty css                    *//* empty css             */import{F as R,at as C,au as B,r as D,ak as a,w as E,H as F,I as L,O as u,R as P,u as t,i as z,az as G,aA as H,Y as m}from"./modules-vue-1e7a0b2d.js";import{y as N,z as T,A as $}from"./modules-vueuse-b11b28df.js";import{u as K}from"./form-de1a726c.js";import{A as M}from"./api-c58faca4.js";import{G as O,H as U}from"./modules-element-icon-4f85e918.js";import{A as c,a8 as Y}from"./modules-element-plus-faf0934f.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import"./modules-quill-ecfe6c98.js";const p=s=>(G("data-v-64c5233e"),s=s(),H(),s),J={class:"login"},Q=p(()=>m("div",{class:"login-bg"},null,-1)),W=p(()=>m("h1",{class:"title"}," 管理后台 ",-1)),X=R({__name:"Login",setup(s){const d=C(),_=B(),f=k(),{enter:g}=N(),{form:r,submitForm:b}=K({url:M.login}),n=D({}),w=A([{label:"用户",prop:"name",component:a(c),rules:{required:!0,message:"请输入用户名",trigger:"blur"},props:i({clearable:!0,prefixIcon:a(O),placeholder:"请输入用户名"})},{label:"密码",prop:"password",component:a(c),rules:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:16,message:"长度 5 到 16 个字符",trigger:"blur"}],props:i({type:"password",clearable:!0,showPassword:!0,prefixIcon:a(U),placeholder:"请输入密码"})}]),h=S({submitText:"登录",reset:!1}),v=V(async(o,e)=>{await l(e),o()});T(),$("登陆后台"),E(g,async o=>{if(o){const e=await n.value.validate();await l(e)}});async function l(o){if(o){const e=await b();e.value&&(f.value=e.value,_.push(d.query.redirect||"/"))}}return(o,e)=>{const y=q,x=Y;return F(),L("div",J,[Q,u(x,{class:"login-content"},{default:P(()=>[W,u(y,{ref_key:"login",ref:n,modelValue:t(r),"onUpdate:modelValue":e[0]||(e[0]=I=>z(r)?r.value=I:null),columns:t(w),menu:t(h),"label-position":"top",onSubmit:t(v)},null,8,["modelValue","columns","menu","onSubmit"])]),_:1})])}}});const de=j(X,[["__scopeId","data-v-64c5233e"]]);export{de as default};
