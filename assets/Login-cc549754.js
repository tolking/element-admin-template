/* empty css             */import{z as v,q as l,C as x,A as y,O as k}from"./modules-element-pro-7fcc2064.js";/* empty css               *//* empty css                  *//* empty css                    *//* empty css             */import{G as V,au as C,a as q,ak as s,f as A,H as I,I as S,X as i,V as z,u as o,i as B,T as E}from"./modules-vue-7af85754.js";import{u as G}from"./store-fe035025.js";import{x as R,y as T,z as F}from"./modules-vueuse-fea2e48f.js";import{u as H,A as L}from"./api-4ce25680.js";import{G as M,H as N}from"./modules-element-icon-c981c180.js";import{M as u,a8 as O}from"./modules-element-plus-3944a27c.js";import"./index-ef74b1c9.js";import"./modules-quill-94ea01f0.js";const D={class:"login"},K=E("h1",{class:"title"}," 管理后台 ",-1),re=V({__name:"Login",setup(P){const m=C(),c=G(),{enter:p}=R(),{form:t,submitForm:d}=H({url:L.login}),r=q({}),f=v([{label:"用户",prop:"name",component:s(u),rules:{required:!0,message:"请输入用户名",trigger:"blur"},props:l({clearable:!0,prefixIcon:s(M),placeholder:"请输入用户名"})},{label:"密码",prop:"password",component:s(u),rules:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:16,message:"长度 5 到 16 个字符",trigger:"blur"}],props:l({type:"password",clearable:!0,showPassword:!0,prefixIcon:s(N),placeholder:"请输入密码"})}]),_=y({submitText:"登录",reset:!1}),g=k(async(a,e)=>{await n(e),a()});T(),F("登陆后台"),A(p,async a=>{if(a){const e=await r.value.validate();await n(e)}});async function n(a){if(a){const e=await d();e.value&&(c.value=e.value,m.push("/"))}}return(a,e)=>{const b=x,w=O;return I(),S("div",D,[i(w,{class:"login-content"},{default:z(()=>[K,i(b,{ref_key:"login",ref:r,modelValue:o(t),"onUpdate:modelValue":e[0]||(e[0]=h=>B(t)?t.value=h:null),columns:o(f),menu:o(_),"label-position":"top",onSubmit:o(g)},null,8,["modelValue","columns","menu","onSubmit"])]),_:1})])}}});export{re as default};
