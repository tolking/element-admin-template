import"./modules-element-pro-71a81d3a.js";import{R as L,a as R,b as h}from"./index-3e6b6df6.js";import{c as k,d as x}from"./api-57caebfc.js";import{r as t,u as f}from"./modules-vue-1e7a0b2d.js";import{m as P}from"./modules-vueuse-b11b28df.js";function K({url:v,transform:u,immediate:p=!0}){const e=t(1),i=t(L),l=t(0),a=t({}),c=t({}),r=t([]),{isFetching:m,data:s,execute:y,...b}=k(v,c),d=async(n,q)=>{q&&(e.value=1,await o()),n()};f(p)&&o();async function o(){m.value||(g(),await y(),s.value&&(x(),r.value=s.value.list,l.value=s.value.total))}function g(){const n=P(u)?u(f(a)):a.value;c.value={...n,[R]:e.value,[h]:i.value}}return{...b,query:a,isFetching:m,page:e,limit:i,total:l,list:r,search:d,loadList:o}}export{K as u};
