import"./index-3e6b6df6.js";/* empty css                   */import{$ as w,q as r,t as q,G as m,P as k,a as D}from"./modules-element-pro-71a81d3a.js";/* empty css               *//* empty css             *//* empty css                  *//* empty css                    *//* empty css             */import{F as Y,at as F,r as P,ak as e,w as C,$ as E,u,H as L,S as M,R,O as S,i as V}from"./modules-vue-1e7a0b2d.js";import{u as A}from"./form-db243072.js";import{A as i}from"./api-57caebfc.js";import{u as I}from"./detail-6c334a75.js";import{u as $}from"./select-572d5d69.js";/* empty css                  *//* empty css               *//* empty css                  *//* empty css                  */import{A as l,ae as B,ad as G}from"./modules-element-plus-faf0934f.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";import"./modules-vueuse-b11b28df.js";import"./modules-element-icon-4f85e918.js";import"./modules-quill-ecfe6c98.js";const H=Y({__name:"ComplexForm",setup(N){const n=F(),{form:s,submit:c}=A({url:i.goods,transform:_}),{isFetching:d,detailId:b,detail:a,loadDetail:g}=I({url:i.goods,immediate:!1}),f=$(),h=P(w([{label:"基础信息",prop:"id",class:"form-title"},{label:"商品名称",prop:"title",component:e(l),rules:{required:!0,message:"请输入商品名称",trigger:"blur"},props:r({clearable:!0,placeholder:"请输入商品名称"})},{label:"价格",prop:"price",component:e(l),md:12,rules:{required:!0,message:"请输入价格",trigger:"blur"},props:r({type:"number",clearable:!0,placeholder:"请输入价格",slots:{suffix:()=>"元"}})},{label:"成本",prop:"cost",component:e(l),md:12,props:r({type:"number",clearable:!0,placeholder:"请输入成本",slots:{suffix:()=>"元"}})},{label:"库存",prop:"stock",component:e(l),md:12,rules:{required:!0,message:"请输入库存",trigger:"blur"},props:r({type:"number",clearable:!0,placeholder:"请输入库存",slots:{suffix:()=>"件"}})},{label:"分类",prop:"cates",component:e(q),md:12,rules:{required:!0,message:"请选择分类",trigger:"blur"},props:{data:f,clearable:!0,placeholder:"请选择分类",style:"width:100%"}},{label:"标签",prop:"tags",component:e(m),md:12,rules:{required:!0,message:"请输入标签",trigger:"blur"},props:r({clearable:!0,max:10,placeholder:"通过 Enter 键触发输入"})},{label:"上架时间",prop:"time",component:e(B),md:12,rules:{required:!0,message:"请选择上架时间段",trigger:"blur"},props:r({clearable:!0,unlinkPanels:!0,type:"daterange",format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD",rangeSeparator:"至",startPlaceholder:"开始日期",endPlaceholder:"结束日期",style:"width:100%"})},{label:"描述",prop:"desc",component:e(l),rules:{required:!0,message:"请输入描述",trigger:"blur"},props:r({type:"textarea",clearable:!0,autosize:!0,showWordLimit:!0,placeholder:"请输入描述"})},{label:"规格信息",prop:"id",class:"form-title"},{label:"长",prop:"length",component:e(l),md:12,props:r({type:"number",clearable:!0,placeholder:"请输入长",slots:{suffix:()=>"cm"}})},{label:"宽",prop:"width",component:e(l),md:12,props:r({type:"number",clearable:!0,placeholder:"请输入宽",slots:{suffix:()=>"cm"}})},{label:"高",prop:"height",component:e(l),md:12,props:r({type:"number",clearable:!0,placeholder:"请输入高",slots:{suffix:()=>"cm"}})},{label:"重量",prop:"weight",component:e(l),md:12,props:r({type:"number",clearable:!0,placeholder:"请输入重量",slots:{suffix:()=>"kg"}})},{label:"配置信息",prop:"sku",class:"form-title",children:[{label:"属性",prop:"key",component:e(l),md:8,rules:{required:!0,message:"请输入商品名称",trigger:"blur"},props:r({clearable:!0,placeholder:"请输入商品名称"})},{label:"可选值",prop:"value",component:e(m),md:16,rules:{required:!0,message:"请输入可选值",trigger:"blur"},props:r({clearable:!0,placeholder:"通过 Enter 键触发输入"})}]}]));C(()=>n.query.id,async t=>{var o,p;t!==void 0&&(b.value=t,await g(),(o=a.value)!=null&&o.start&&((p=a.value)!=null&&p.end)&&(a.value.time=[a.value.start,a.value.end]),s.value=a.value||{})},{immediate:!0});function _(t){var o;return(o=t.time)!=null&&o.length&&(t.start=t.time[0],t.end=t.time[1]),t}return(t,o)=>{const p=k,v=D,x=G;return E((L(),M(v,{shadow:"never"},{default:R(()=>[S(p,{modelValue:u(s),"onUpdate:modelValue":o[0]||(o[0]=y=>V(s)?s.value=y:null),columns:u(h),gutter:40,"label-width":"100px",onSubmit:u(c)},null,8,["modelValue","columns","onSubmit"])]),_:1})),[[x,u(d)]])}}});const ce=z(H,[["__scopeId","data-v-1b71636e"]]);export{ce as default};
