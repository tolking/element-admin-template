import"./index-3e6b6df6.js";/* empty css                   */import{j,O as B,b as D,a as E}from"./modules-element-pro-71a81d3a.js";/* empty css               *//* empty css             */import{u as O}from"./list-54a9b13a.js";import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css               */import{A as u,a as m}from"./api-57caebfc.js";/* empty css                  *//* empty css                  *//* empty css                        */import{u as V}from"./form-db243072.js";import{a9 as A,z as I,L as N,ad as R}from"./modules-element-plus-faf0934f.js";import{F as U,$,u as a,H,S as M,R as e,O as r,V as c,W as d,i as _}from"./modules-vue-1e7a0b2d.js";import"./modules-vueuse-b11b28df.js";import"./modules-element-icon-4f85e918.js";import"./modules-quill-ecfe6c98.js";const mt=U({__name:"Table",setup(P){const{isFetching:g,page:n,limit:i,total:f,list:b,loadList:v}=O({url:u.user}),{isFetching:x,form:l,submitForm:y}=V({url:u.userStatus,type:"put"}),z=j({label:"操作"}),L=B([{label:"ID",prop:"id"},{label:"用户名",prop:"name"},{label:"头像",prop:"avatar"},{label:"权限",prop:"role"},{label:"创建时间",prop:"createTime"},{label:"是否启用",prop:"status"}]);async function h(s){l.value={id:s.id,status:!s.status},(await y()).value?(m("success","修改成功!"),s.status=!s.status):m("warning","修改失败!"),l.value={}}return(s,o)=>{const w=A,F=I,S=N,k=D,C=E,T=R;return $((H(),M(C,{shadow:"never"},{default:e(()=>[r(k,{"current-page":a(n),"onUpdate:currentPage":o[0]||(o[0]=t=>_(n)?n.value=t:null),"page-size":a(i),"onUpdate:pageSize":o[1]||(o[1]=t=>_(i)?i.value=t:null),columns:a(L),data:a(b),total:a(f),menu:a(z),border:"",stripe:"",layout:"total, ->, jumper, prev, pager, next, sizes",onLoad:a(v)},{"table-avatar":e(({row:t})=>[r(w,{style:{width:"60px",height:"60px"},src:t.avatar,fit:"scale-down"},null,8,["src"])]),"table-status":e(({row:t,size:p})=>[r(F,{type:t.status?"success":"danger",size:p},{default:e(()=>[c(d(t.status?"启用":"禁用"),1)]),_:2},1032,["type","size"])]),menu:e(({row:t,size:p})=>[r(S,{loading:a(x),size:p,text:"",onClick:W=>h(t)},{default:e(()=>[c(d(t.status?"禁用":"启用"),1)]),_:2},1032,["loading","size","onClick"])]),_:1},8,["current-page","page-size","columns","data","total","menu","onLoad"])]),_:1})),[[T,a(g)]])}}});export{mt as default};
