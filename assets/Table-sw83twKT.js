import"./index-Crc8LH7_.js";/* empty css                   */import{R as C,E as D,X as T,l as B}from"./modules-element-pro-FTTMLDtU.js";/* empty css               *//* empty css             */import{u as V}from"./list-Lq4y2q8E.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css               */import{A as u,a as m}from"./api-P98th4it.js";/* empty css                  *//* empty css                  *//* empty css                        */import{u as A}from"./form-CzUEu54E.js";import{ae as I,G as N,R as U,ai as X}from"./modules-element-plus-DH2R2jN-.js";import{D as j,a0 as G,u as a,F as M,S as O,R as e,O as r,V as c,W as d,i as _}from"./modules-vue-By89M0U-.js";import"./modules-vueuse-Btdjl5qo.js";import"./modules-element-icon-BNWqDq4y.js";import"./modules-quill-Ccay-MFU.js";const mt=j({__name:"Table",setup(P){const{isFetching:g,page:n,limit:i,total:f,list:b,loadList:v}=V({url:u.user}),{isFetching:x,form:p,submitForm:y}=A({url:u.userStatus,type:"put"}),h=C({label:"操作"}),z=D([{label:"ID",prop:"id"},{label:"用户名",prop:"name"},{label:"头像",prop:"avatar"},{label:"权限",prop:"role"},{label:"创建时间",prop:"createTime"},{label:"是否启用",prop:"status"}]);async function L(s){p.value={id:s.id,status:!s.status},(await y()).value?(m("success","修改成功!"),s.status=!s.status):m("warning","修改失败!"),p.value={}}return(s,o)=>{const w=I,E=N,F=U,R=T,S=B,k=X;return G((M(),O(S,{shadow:"never"},{default:e(()=>[r(R,{"current-page":a(n),"onUpdate:currentPage":o[0]||(o[0]=t=>_(n)?n.value=t:null),"page-size":a(i),"onUpdate:pageSize":o[1]||(o[1]=t=>_(i)?i.value=t:null),columns:a(z),data:a(b),total:a(f),menu:a(h),border:"",stripe:"",layout:"total, ->, jumper, prev, pager, next, sizes",onLoad:a(v)},{"table-avatar":e(({row:t})=>[r(w,{style:{width:"60px",height:"60px"},src:t.avatar,fit:"scale-down"},null,8,["src"])]),"table-status":e(({row:t,size:l})=>[r(E,{type:t.status?"success":"danger",size:l},{default:e(()=>[c(d(t.status?"启用":"禁用"),1)]),_:2},1032,["type","size"])]),menu:e(({row:t,size:l})=>[r(F,{loading:a(x),size:l,text:"",onClick:W=>L(t)},{default:e(()=>[c(d(t.status?"禁用":"启用"),1)]),_:2},1032,["loading","size","onClick"])]),_:1},8,["current-page","page-size","columns","data","total","menu","onLoad"])]),_:1})),[[k,a(g)]])}}});export{mt as default};
