import{Q as c}from"./modules-quill.209abeee.js";import{G as s,b as p,r as i,w as u,h as f,E as g,H as k,I as m}from"./modules-vue.91ae1080.js";const x=s({__name:"RichEditor",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"\u8BF7\u8F93\u5165\u6587\u672C"}},emits:["update:modelValue"],setup(n,{emit:d}){const o=n,{modelValue:e,placeholder:a}=p(o),r=i({}),l=i({}),q=i(!1);u(e,t=>{t!==l.value.root.innerHTML&&!l.value.hasFocus()&&(l.value.root.innerHTML=t)}),f(()=>{b()}),g(()=>{l.value=null});function b(){l.value=new c(r.value,{theme:"snow",placeholder:a.value,modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{color:[]},{background:[]}],["clean"]]}}),!q.value&&(e==null?void 0:e.value)&&(l.value.root.innerHTML=o.modelValue||""),l.value.on("text-change",()=>{q.value=!0,d("update:modelValue",l.value.root.innerHTML)})}return(t,h)=>(k(),m("div",{ref_key:"editor",ref:r},null,512))}});export{x as _};
