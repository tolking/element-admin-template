import{c as p}from"./index.ebc7d93c.js";/* empty css                   */import{i as A,h as S,j as I,k as U}from"./modules-element-pro.30fbc805.js";import{a as j,u as M,A as m}from"./el-row.cef78d8b.js";/* empty css             *//* empty css              *//* empty css               */import"./el-tooltip.586473e3.js";/* empty css                  *//* empty css                  *//* empty css                        */import{_ as N,F as P,I as R,a0 as V}from"./modules-element-plus.6db311e4.js";import{A as K,B as c,R as d,S as e,K as W,u as a,i as g,U as l,a1 as _,W as f}from"./modules-vue.febe55be.js";import"./modules-quill.209abeee.js";import"./modules-vueuse.e98b2711.js";import"./modules-element-icon.fdd1684a.js";const lt=K({setup($){const{isFetching:F,page:u,limit:n,total:b,list:v,loadList:C}=j({url:m.user}),{isFetching:x,form:i,submitForm:y}=M({url:m.userStatus,type:"put"}),E=I({label:"\u64CD\u4F5C"}),h=U([{label:"ID",prop:"id"},{label:"\u7528\u6237\u540D",prop:"name"},{label:"\u5934\u50CF",prop:"avatar"},{label:"\u6743\u9650",prop:"role"},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"},{label:"\u662F\u5426\u542F\u7528",prop:"status"}]);async function z(s){i.value={id:s.id,status:!s.status},(await y()).value?(p("success","\u4FEE\u6539\u6210\u529F!"),s.status=!s.status):p("warning","\u4FEE\u6539\u5931\u8D25!"),i.value={}}return(s,o)=>{const D=N,L=P,T=R,k=A,w=S,B=V;return c(),d(w,{shadow:"never"},{default:e(()=>[W((c(),d(k,{"current-page":a(u),"onUpdate:current-page":o[0]||(o[0]=t=>g(u)?u.value=t:null),"page-size":a(n),"onUpdate:page-size":o[1]||(o[1]=t=>g(n)?n.value=t:null),columns:a(h),data:a(v),total:a(b),menu:a(E),border:"",stripe:"",layout:"total, ->, jumper, prev, pager, next, sizes",onLoad:a(C)},{avatar:e(({row:t})=>[l(D,{style:{width:"60px",height:"60px"},src:t.avatar,fit:"scale-down"},null,8,["src"])]),status:e(({row:t,size:r})=>[l(L,{type:t.status?"success":"danger",size:r},{default:e(()=>[_(f(t.status?"\u542F\u7528":"\u7981\u7528"),1)]),_:2},1032,["type","size"])]),menu:e(({row:t,size:r})=>[l(T,{loading:a(x),size:r,type:"text",onClick:q=>z(t)},{default:e(()=>[_(f(t.status?"\u7981\u7528":"\u542F\u7528"),1)]),_:2},1032,["loading","size","onClick"])]),_:1},8,["current-page","page-size","columns","data","total","menu","onLoad"])),[[B,a(F)]])]),_:1})}}});export{lt as default};
