import{c as p}from"./index.a59d0955.js";/* empty css              */import{h as k,i as w,j as A}from"./modules-element-pro.bae82071.js";/* empty css               *//* empty css                  *//* empty css             *//* empty css                        */import{a as B,u as S,A as m}from"./crud.102c2e5d.js";import{Y as V,C as j,G as I,_ as M}from"./modules-element-plus.e6f21360.js";import{z as N,J as R,u as e,A as U,Q as G,R as u,i as c,T as l,a0 as d,V as g}from"./modules-vue.3bc0effc.js";import"./modules-quill.209abeee.js";import"./modules-vueuse.2a165f14.js";import"./modules-element-icon.beeb2b9d.js";const st=N({setup(J){const{isFetching:_,page:o,limit:n,total:f,list:F,loadList:b}=B({url:m.user}),{isFetching:v,form:i,submitForm:C}=S({url:m.userStatus,type:"put"}),x=w({label:"\u64CD\u4F5C"}),y=A([{label:"ID",prop:"id"},{label:"\u7528\u6237\u540D",prop:"name"},{label:"\u5934\u50CF",prop:"avatar"},{label:"\u6743\u9650",prop:"role"},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"},{label:"\u662F\u5426\u542F\u7528",prop:"status"}]);async function E(a){i.value={id:a.id,status:!a.status},(await C()).value?(p("success","\u4FEE\u6539\u6210\u529F!"),a.status=!a.status):p("warning","\u4FEE\u6539\u5931\u8D25!"),i.value={}}return(a,s)=>{const z=V,T=j,h=I,D=k,L=M;return R((U(),G(D,{"current-page":e(o),"onUpdate:current-page":s[0]||(s[0]=t=>c(o)?o.value=t:null),"page-size":e(n),"onUpdate:page-size":s[1]||(s[1]=t=>c(n)?n.value=t:null),columns:e(y),data:e(F),total:e(f),menu:e(x),border:"",stripe:"",layout:"total, ->, jumper, prev, pager, next, sizes",onLoad:e(b)},{avatar:u(({row:t})=>[l(z,{style:{width:"60px",height:"60px"},src:t.avatar,fit:"scale-down"},null,8,["src"])]),status:u(({row:t,size:r})=>[l(T,{type:t.status?"success":"danger",size:r},{default:u(()=>[d(g(t.status?"\u542F\u7528":"\u7981\u7528"),1)]),_:2},1032,["type","size"])]),menu:u(({row:t,size:r})=>[l(h,{loading:e(v),size:r,type:"text",onClick:P=>E(t)},{default:u(()=>[d(g(t.status?"\u7981\u7528":"\u542F\u7528"),1)]),_:2},1032,["loading","size","onClick"])]),_:1},8,["current-page","page-size","columns","data","total","menu","onLoad"])),[[L,e(_)]])}}});export{st as default};
